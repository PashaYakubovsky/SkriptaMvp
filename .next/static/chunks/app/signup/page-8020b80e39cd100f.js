(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[966],{7089:function(e,t,n){Promise.resolve().then(n.bind(n,8920))},8920:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var r=n(7437),a=n(5097),o=n(7650),s=n(7571),i=n(3237),u=n(6463),l=n(2265),c=n(9155),m=n(998),d=n(8726);let w=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e);function v(){let{data:e,status:t}=(0,m.useSession)(),[n,v]=(0,l.useState)({showPassword:!1,password:"",repeatPassword:"",errorPassword:"",email:"",errorEmail:""}),h=(0,u.useRouter)();(0,l.useEffect)(()=>{"authenticated"===t&&h.push("/new")},[t]);let p=()=>w(n.email)?n.password===n.repeatPassword||(v(e=>({...e,errorPassword:"Passwords do not match"})),!1):(v(e=>({...e,errorEmail:"Invalid email"})),!1);return(0,r.jsxs)("div",{className:"bg-black !h-screen",children:[(0,r.jsx)(o.Z,{h1:!0,className:"m-auto text-center",children:"Skripta..."}),(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center w-full h-[80vh] max-w-[600px] m-auto max-md:max-w-[80vw]",children:[(0,r.jsx)(o.Z,{h2:!0,className:"text-4xl !text-white text-center relative z-10",children:"Hello there!"}),(0,r.jsx)(o.Z,{p:!0,className:"!mb-4 !mt-0 text-sm !text-white text-center relative z-10",children:"Fill out the form below to get started."}),(0,r.jsx)(c.Z,{}),(0,r.jsxs)("form",{className:"w-full gap-2 mb-4 flex flex-col bg-black relative z-10 ",children:[(0,r.jsx)(s.Z,{type:n.errorEmail?"error":"default",value:n.email,onChange:e=>{v({...n,email:e.target.value,errorEmail:w(e.target.value)?"":"Invalid email"})},ref:e=>{e&&(e.style.color="#fff")},inputMode:"email",className:"w-full !text-white",width:"100%",placeholder:"Email"}),(0,r.jsxs)("div",{className:"relative w-full",children:[(0,r.jsx)(s.Z,{onChange:e=>v({...n,password:e.target.value}),value:n.password,ref:e=>{e&&(e.style.color="#fff")},htmlType:n.showPassword?"text":"password",className:"w-full !text-white",width:"100%",placeholder:"Password"}),(0,r.jsx)("button",{onClick:()=>v(e=>({...e,showPassword:!n.showPassword})),className:"text-white",children:n.showPassword?(0,r.jsx)(a.gxi,{className:"absolute right-2 top-[50%] translate-y-[-50%] cursor-pointer w-[1.5rem] h-[1.5rem]"}):(0,r.jsx)(a.ilU,{className:"absolute right-2 top-[50%] translate-y-[-50%] cursor-pointer w-[1.5rem] h-[1.5rem]"})})]}),(0,r.jsx)(s.Z,{onChange:e=>v({...n,repeatPassword:e.target.value,errorPassword:e.target.value!==n.password?"Passwords do not match":""}),value:n.repeatPassword,ref:e=>{e&&(e.style.color="#fff")},type:n.errorPassword?"error":"default",htmlType:n.showPassword?"text":"password",className:"w-full !text-white",width:"100%",placeholder:"Repeat Password"})]}),(0,r.jsx)(i.Z,{width:"100%",className:"!mb-2",onClick:()=>{p()&&(0,m.signIn)("credentials",{email:n.email,password:n.password,repeatPassword:n.repeatPassword}).catch(e=>{console.error(e),d.ZP.error("Error signing up")})},children:"Sign Up"})]})]})}},9155:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(7437),a=n(3199),o=n.n(a),s=n(2265),i=n(7647),u=n(3149),l=n(7776),c=n(2087);let m=(0,s.memo)(()=>{let e=(0,i.A)(e=>e.viewport),t=(0,s.useRef)(null),n=(0,s.useRef)({x:0,y:0,z:0}),a=(0,s.useRef)(null),o=(0,s.useMemo)(()=>({side:l.DoubleSide,uniforms:{uColor:new l.Uniform(new l.Color("black")),uMouse:new l.Uniform(new l.Vector3(-150,-150,0)),uTime:new l.Uniform(0),uPixelRatio:new l.Uniform(window.devicePixelRatio),uSize:new l.Uniform(1),uResolution:new l.Uniform(new l.Vector2(window.innerWidth,window.innerHeight)),uDisplacementTexture:new l.Uniform(null),uAngleScale:new l.Uniform(10),uDisplacementScale:new l.Uniform(1),uDisplacementSpeed:new l.Uniform(1),uRandomScale:new l.Uniform(!0)},fragmentShader:"#define GLSLIFY 1\nvarying vec3 vColor;\nuniform vec3 uColor;\n\nvoid main()\n{\n    vec2 uv = gl_PointCoord;\n    float distanceToCenter = length(uv - vec2(0.5));\n\n    if(distanceToCenter > 0.5)\n        discard;\n\n    gl_FragColor = vec4(vColor, 1.0);\n    #include <tonemapping_fragment>\n}",vertexShader:"#define GLSLIFY 1\n uniform vec2 uResolution;\nuniform sampler2D uPictureTexture;\nuniform sampler2D uDisplacementTexture;\nuniform float uSize;\nuniform float uTime;\nuniform float uAngleScale;\nuniform float uDisplacementScale;\nuniform float uDisplacementSpeed;\nuniform bool uRandomScale;\n\nattribute float aIntensity;\nattribute float aAngle;\nattribute float aScale;\n\nvarying vec3 vColor;\nvoid main() {\n    // Displacement\n    vec3 newPosition = position;\n    vec2 newUv = uv;\n    newUv.y = 1.0 - newUv.y;\n    newUv.x = 1.0 - newUv.x;\n    float displacementIntensity = texture(uDisplacementTexture, newUv).r;\n    displacementIntensity = smoothstep(0.1, uDisplacementSpeed, displacementIntensity);\n\n    vec3 displacement = vec3(\n        cos(aAngle) * uAngleScale,\n        sin(aAngle) * uAngleScale,\n        1.0\n    );\n    displacement = normalize(displacement);\n    displacement *= displacementIntensity;\n    displacement *= uDisplacementScale;\n    displacement *= aIntensity;\n    \n    newPosition += displacement;\n\n    // Final position\n    vec4 modelPosition = modelMatrix * vec4(newPosition, 1.0);\n    vec4 viewPosition = viewMatrix * modelPosition;\n    vec4 projectedPosition = projectionMatrix * viewPosition;\n    gl_Position = projectedPosition;\n\n    // Point size\n    float pz = 0.2 * uResolution.y * uSize * (1.0 / - viewPosition.z);\n    if(uRandomScale) {\n        pz *= aScale;\n    }\n    gl_PointSize = pz;\n\n    // Varyings\n    vColor = vec3(pow(displacementIntensity, 2.0));\n}",transparent:!0,depthWrite:!1,blending:l.AdditiveBlending}),[]),u=(0,s.useMemo)(()=>{let e=new l.BufferGeometry,t=Math.floor(Math.sqrt(5e3/(window.innerWidth/window.innerHeight))),n=Math.ceil(5e3/t),r=new Float32Array(15e3),a=new Float32Array(5e3),o=new Float32Array(5e3),s=new Float32Array(5e3),i=new Float32Array(1e4);for(let e=0;e<5e3;e++){let u=Math.floor(e/n),l=e%n;r[3*e+0]=(l-n/2)*.5,r[3*e+1]=(u-t/2)*.5,r[3*e+2]=-1,a[e]=.1,o[e]=Math.random(),s[e]=Math.random()*Math.PI*2;let c=l/(n-1),m=u/(t-1);i[2*e+0]=c,i[2*e+1]=m}return e.setAttribute("position",new l.BufferAttribute(r,3)),e.setAttribute("aScale",new l.BufferAttribute(a,1)),e.setAttribute("aIntensity",new l.BufferAttribute(o,1)),e.setAttribute("aAngle",new l.BufferAttribute(s,1)),e.setAttribute("uv",new l.BufferAttribute(i,2)),e},[]);(0,i.C)(e=>{let{clock:t}=e;if(o.uniforms.uMouse.value.x=n.current.x,o.uniforms.uMouse.value.y=n.current.y,o.uniforms.uMouse.value.z=n.current.z,o.uniforms.uTime.value=t.elapsedTime,o.uniforms.uSize.value=1,c.current.context&&(c.current.context.globalCompositeOperation="source-over",c.current.context.globalAlpha=.02,c.current.context.fillRect(0,0,c.current.canvas.width,c.current.canvas.height)),!c.current.canvasCursor)return;let r=c.current.canvasCursorPrevious.distanceTo(c.current.canvasCursor);if(c.current.canvasCursorPrevious.copy(c.current.canvasCursor),c.current.context&&c.current.canvasCursor){let e=.2*c.current.canvas.width;c.current.context.globalCompositeOperation="lighten",c.current.context.globalAlpha=Math.min(.05*r,1),c.current.context.drawImage(c.current.glowImage,c.current.canvasCursor.x-.5*e,c.current.canvasCursor.y-.5*e,e,e)}o.uniforms.uDisplacementTexture.value=c.current.texture,c.current.texture&&(c.current.texture.needsUpdate=!0)});let c=(0,s.useRef)({canvasCursor:new l.Vector2(999999),canvasCursorPrevious:new l.Vector2(999999)});return(0,s.useEffect)(()=>{c.current.canvas=document.createElement("canvas"),c.current.canvas.style.position="fixed",c.current.canvas.style.objectFit="contain",c.current.canvas.style.aspectRatio="1/1",c.current.canvas.style.border="1px solid white",c.current.canvas.style.borderRadius="0.5rem",c.current.canvas.style.top="16px",c.current.canvas.style.left="16px",c.current.canvas.style.zIndex="10",c.current.context=c.current.canvas.getContext("2d");let e=c.current.context,t=window.innerWidth/window.innerHeight;c.current.canvas.width=320*t,c.current.canvas.height=320,c.current.canvas.style.width=320*t+"px",c.current.canvas.style.height="320px",e.fillRect(0,0,c.current.canvas.width,c.current.canvas.height),c.current.glowImage=new Image,c.current.glowImage.src="/glow.png";let n=new l.CanvasTexture(c.current.canvas);c.current.texture=n,document.body.contains(c.current.canvas)&&c.current.canvas.remove();let r={width:window.innerWidth,height:window.innerHeight},a=e=>{c.current.screenCursor||(c.current.screenCursor=new l.Vector2),c.current.screenCursor.x=e.clientX/r.width*2-1,c.current.screenCursor.y=-(e.clientY/r.height*2)+1};return window.addEventListener("pointermove",a),()=>{c.current.canvas.remove(),window.removeEventListener("pointermove",a)}},[]),(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("group",{children:[(0,r.jsxs)("mesh",{onClick:()=>{let e=c.current.context;if(!e)return;let t=.4*c.current.canvas.width;e.globalCompositeOperation="lighten",e.globalAlpha=1,e.drawImage(c.current.glowImage,c.current.canvasCursor.x-.5*t,c.current.canvasCursor.y-.5*t,t,t)},ref:a,onPointerMove:e=>{n.current.x=e.point.x,n.current.y=e.point.y,n.current.z=e.point.z,o.uniforms.uMouse.value.x=e.point.x,o.uniforms.uMouse.value.y=e.point.y,o.uniforms.uMouse.value.z=e.point.z,c.current.canvasCursor||(c.current.canvasCursor=new l.Vector2),c.current.canvasCursor.x=e.uv.x*c.current.canvas.width,c.current.canvasCursor.y=(1-e.uv.y)*c.current.canvas.height},onPointerOut:()=>{o.uniforms.uMouse.value.x=-150,o.uniforms.uMouse.value.y=-150,o.uniforms.uMouse.value.z=0},position:[0,0,0],rotation:[0,0,0],matrixAutoUpdate:!0,children:[(0,r.jsx)("planeGeometry",{attach:"geometry",args:[e.width,e.height,1]}),(0,r.jsx)("meshBasicMaterial",{attach:"material",color:new l.Color("red"),side:l.DoubleSide})]}),(0,r.jsx)("points",{rotation:[0,0,Math.PI],ref:t,geometry:u,position:[0,0,0],scale:[1,1,1],children:(0,r.jsx)("shaderMaterial",{attach:"material",...o})})]})})});var d=()=>(0,r.jsxs)(u.Xz,{className:o().hero,children:[(0,r.jsx)("ambientLight",{intensity:Math.PI/2}),(0,r.jsx)("spotLight",{position:[10,10,10],angle:.15,penumbra:1,decay:0,intensity:Math.PI}),(0,r.jsx)(c.i,{makeDefault:!0,position:[0,0,0],zoom:35}),(0,r.jsx)("pointLight",{position:[-10,-10,-10],decay:0,intensity:Math.PI}),(0,r.jsx)(m,{})]})},3199:function(e){e.exports={hero:"Hero_hero__ekVvT"}}},function(e){e.O(0,[821,689,706,806,826,176,874,571,29,971,23,744],function(){return e(e.s=7089)}),_N_E=e.O()}]);