(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[372],{4940:function(e,t,n){Promise.resolve().then(n.bind(n,7760))},7760:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var r=n(7437),l=n(2265),a=n(7650),i=n(9819),s=n(8726),o=n(2800),d=n(7818);let c={List:(0,l.forwardRef)((e,t)=>{let{style:n,children:l,...a}=e;return(0,r.jsx)("div",{ref:t,...a,style:{...n,display:"flex",flexWrap:"wrap",justifyContent:"center",width:"100%",margin:"0 auto",gap:"1rem"},children:l})}),Item:e=>{let{children:t,...n}=e;return(0,r.jsx)("div",{...n,className:"bg-gray-200 flex items-center justify-center text-2xl rounded-lg w-fit overflow-hidden",children:t})}},u=(0,d.default)(()=>Promise.all([n.e(283),n.e(322),n.e(646)]).then(n.bind(n,8646)),{loadableGenerated:{webpack:()=>[8646]},ssr:!1}),p=(0,d.default)(()=>n.e(635).then(n.bind(n,9635)),{loadableGenerated:{webpack:()=>[9635]},ssr:!1});var f=()=>{let[e,t]=(0,l.useState)({series:[],popupOpen:!1,selectedScript:null,loading:!1});return(0,l.useEffect)(()=>(document.body.style.overflow="hidden",(async()=>{var n;let r=null!==(n=localStorage.getItem("userId"))&&void 0!==n?n:"";try{t({...e,loading:!0});let n=await (0,o.g)({userId:r});t({...e,series:n,loading:!1})}catch(n){s.ZP.error("Failed to fetch series"),t({...e,loading:!1})}})(),()=>{document.body.style.overflow="auto"}),[]),(0,r.jsxs)("div",{children:[(0,r.jsx)("header",{className:"text-center text-white bg-black py-5",children:(0,r.jsx)(a.Z,{h2:!0,children:"Series"})}),(0,r.jsx)("div",{className:"py-5",children:(0,r.jsx)(i.Mr,{style:{height:700,margin:"0 auto"},totalCount:e.series.length,components:c,itemContent:n=>{var l;let a=e.series[n];return(0,r.jsx)(p,{loading:e.loading,onClick:()=>{t({...e,popupOpen:!0,selectedScript:e.series[n]})},children:null!==(l=null==a?void 0:a.name)&&void 0!==l?l:null==a?void 0:a.id})}})}),(0,r.jsx)(u,{open:e.popupOpen,close:()=>{t({...e,popupOpen:!1})},script:e.selectedScript,onUpdate:()=>{var n;t({...e,loading:!0}),(0,o.g)({userId:null!==(n=localStorage.getItem("userId"))&&void 0!==n?n:""}).then(e=>{t(t=>({...t,series:e,loading:!1}))}).catch(()=>{t({...e,loading:!1})})}})]})}},2800:function(e,t,n){"use strict";n.d(t,{g:function(){return a},k:function(){return l}});var r=n(2126);let l=async e=>{let{history:t,seriesId:n}=e,l=[...t,{role:"user",content:"Create new episode"}];return(await r.Z.post("/api/series/".concat(n),{history:l})).data},a=async e=>{let{userId:t}=e;try{return(await r.Z.get("/api/series?userId="+t)).data.data}catch(e){return console.error(e),[]}}}},function(e){e.O(0,[919,726,826,423,971,23,744],function(){return e(e.s=4940)}),_N_E=e.O()}]);