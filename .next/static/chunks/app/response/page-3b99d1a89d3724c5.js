(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[168],{8340:function(e,t,r){Promise.resolve().then(r.bind(r,907))},994:function(e,t,r){"use strict";var n,o,i=function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var a=/["'&<>]/,c=function(e){var t,r=""+e,n=a.exec(r);if(!n)return r;var o="",i=0,c=0;for(i=n.index;i<r.length;i++){switch(r.charCodeAt(i)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#39;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}c!==i&&(o+=r.substring(c,i)),c=i+1,o+=t}return c!==i?o+r.substring(c,i):o},s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{};function u(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function l(e,t){return e(t={exports:{}},t.exports),t.exports}var f=l(function(e,t){var r,n;Object.defineProperty(t,"__esModule",{value:!0}),t.BLOCKS=void 0,(n=r||(t.BLOCKS=r={})).DOCUMENT="document",n.PARAGRAPH="paragraph",n.HEADING_1="heading-1",n.HEADING_2="heading-2",n.HEADING_3="heading-3",n.HEADING_4="heading-4",n.HEADING_5="heading-5",n.HEADING_6="heading-6",n.OL_LIST="ordered-list",n.UL_LIST="unordered-list",n.LIST_ITEM="list-item",n.HR="hr",n.QUOTE="blockquote",n.EMBEDDED_ENTRY="embedded-entry-block",n.EMBEDDED_ASSET="embedded-asset-block",n.EMBEDDED_RESOURCE="embedded-resource-block",n.TABLE="table",n.TABLE_ROW="table-row",n.TABLE_CELL="table-cell",n.TABLE_HEADER_CELL="table-header-cell"});u(f),f.BLOCKS;var d=l(function(e,t){var r,n;Object.defineProperty(t,"__esModule",{value:!0}),t.INLINES=void 0,(n=r||(t.INLINES=r={})).HYPERLINK="hyperlink",n.ENTRY_HYPERLINK="entry-hyperlink",n.ASSET_HYPERLINK="asset-hyperlink",n.RESOURCE_HYPERLINK="resource-hyperlink",n.EMBEDDED_ENTRY="embedded-entry-inline",n.EMBEDDED_RESOURCE="embedded-resource-inline"});u(d),d.INLINES;var E=l(function(e,t){var r,n;Object.defineProperty(t,"__esModule",{value:!0}),t.MARKS=void 0,(n=r||(t.MARKS=r={})).BOLD="bold",n.ITALIC="italic",n.UNDERLINE="underline",n.CODE="code",n.SUPERSCRIPT="superscript",n.SUBSCRIPT="subscript"});u(E),E.MARKS;var S=l(function(e,t){var r,n=s&&s.__spreadArray||function(e,t,r){if(r||2==arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.V1_MARKS=t.V1_NODE_TYPES=t.TEXT_CONTAINERS=t.HEADINGS=t.CONTAINERS=t.VOID_BLOCKS=t.TABLE_BLOCKS=t.LIST_ITEM_BLOCKS=t.TOP_LEVEL_BLOCKS=void 0,t.TOP_LEVEL_BLOCKS=[f.BLOCKS.PARAGRAPH,f.BLOCKS.HEADING_1,f.BLOCKS.HEADING_2,f.BLOCKS.HEADING_3,f.BLOCKS.HEADING_4,f.BLOCKS.HEADING_5,f.BLOCKS.HEADING_6,f.BLOCKS.OL_LIST,f.BLOCKS.UL_LIST,f.BLOCKS.HR,f.BLOCKS.QUOTE,f.BLOCKS.EMBEDDED_ENTRY,f.BLOCKS.EMBEDDED_ASSET,f.BLOCKS.EMBEDDED_RESOURCE,f.BLOCKS.TABLE],t.LIST_ITEM_BLOCKS=[f.BLOCKS.PARAGRAPH,f.BLOCKS.HEADING_1,f.BLOCKS.HEADING_2,f.BLOCKS.HEADING_3,f.BLOCKS.HEADING_4,f.BLOCKS.HEADING_5,f.BLOCKS.HEADING_6,f.BLOCKS.OL_LIST,f.BLOCKS.UL_LIST,f.BLOCKS.HR,f.BLOCKS.QUOTE,f.BLOCKS.EMBEDDED_ENTRY,f.BLOCKS.EMBEDDED_ASSET,f.BLOCKS.EMBEDDED_RESOURCE],t.TABLE_BLOCKS=[f.BLOCKS.TABLE,f.BLOCKS.TABLE_ROW,f.BLOCKS.TABLE_CELL,f.BLOCKS.TABLE_HEADER_CELL],t.VOID_BLOCKS=[f.BLOCKS.HR,f.BLOCKS.EMBEDDED_ENTRY,f.BLOCKS.EMBEDDED_ASSET,f.BLOCKS.EMBEDDED_RESOURCE],t.CONTAINERS=((r={})[f.BLOCKS.OL_LIST]=[f.BLOCKS.LIST_ITEM],r[f.BLOCKS.UL_LIST]=[f.BLOCKS.LIST_ITEM],r[f.BLOCKS.LIST_ITEM]=t.LIST_ITEM_BLOCKS,r[f.BLOCKS.QUOTE]=[f.BLOCKS.PARAGRAPH],r[f.BLOCKS.TABLE]=[f.BLOCKS.TABLE_ROW],r[f.BLOCKS.TABLE_ROW]=[f.BLOCKS.TABLE_CELL,f.BLOCKS.TABLE_HEADER_CELL],r[f.BLOCKS.TABLE_CELL]=[f.BLOCKS.PARAGRAPH],r[f.BLOCKS.TABLE_HEADER_CELL]=[f.BLOCKS.PARAGRAPH],r),t.HEADINGS=[f.BLOCKS.HEADING_1,f.BLOCKS.HEADING_2,f.BLOCKS.HEADING_3,f.BLOCKS.HEADING_4,f.BLOCKS.HEADING_5,f.BLOCKS.HEADING_6],t.TEXT_CONTAINERS=n([f.BLOCKS.PARAGRAPH],t.HEADINGS,!0),t.V1_NODE_TYPES=[f.BLOCKS.DOCUMENT,f.BLOCKS.PARAGRAPH,f.BLOCKS.HEADING_1,f.BLOCKS.HEADING_2,f.BLOCKS.HEADING_3,f.BLOCKS.HEADING_4,f.BLOCKS.HEADING_5,f.BLOCKS.HEADING_6,f.BLOCKS.OL_LIST,f.BLOCKS.UL_LIST,f.BLOCKS.LIST_ITEM,f.BLOCKS.HR,f.BLOCKS.QUOTE,f.BLOCKS.EMBEDDED_ENTRY,f.BLOCKS.EMBEDDED_ASSET,d.INLINES.HYPERLINK,d.INLINES.ENTRY_HYPERLINK,d.INLINES.ASSET_HYPERLINK,d.INLINES.EMBEDDED_ENTRY,"text"],t.V1_MARKS=[E.MARKS.BOLD,E.MARKS.CODE,E.MARKS.ITALIC,E.MARKS.UNDERLINE]});u(S),S.V1_MARKS,S.V1_NODE_TYPES,S.TEXT_CONTAINERS,S.HEADINGS,S.CONTAINERS,S.VOID_BLOCKS,S.TABLE_BLOCKS,S.LIST_ITEM_BLOCKS,S.TOP_LEVEL_BLOCKS;var h=l(function(e,t){Object.defineProperty(t,"__esModule",{value:!0})});u(h);var p=l(function(e,t){Object.defineProperty(t,"__esModule",{value:!0})});u(p);var O=l(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_DOCUMENT=void 0,t.EMPTY_DOCUMENT={nodeType:f.BLOCKS.DOCUMENT,data:{},content:[{nodeType:f.BLOCKS.PARAGRAPH,data:{},content:[{nodeType:"text",value:"",marks:[],data:{}}]}]}});u(O),O.EMPTY_DOCUMENT;var L=l(function(e,t){function r(e,t){for(var r=0,n=Object.keys(e);r<n.length;r++)if(t===e[n[r]])return!0;return!1}Object.defineProperty(t,"__esModule",{value:!0}),t.isText=t.isBlock=t.isInline=void 0,t.isInline=function(e){return r(d.INLINES,e.nodeType)},t.isBlock=function(e){return r(f.BLOCKS,e.nodeType)},t.isText=function(e){return"text"===e.nodeType}});u(L),L.isText,L.isBlock,L.isInline;var _=l(function(e,t){var r=s&&s.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=s&&s.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=s&&s.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},i=s&&s.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&r(t,e,o);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.helpers=t.EMPTY_DOCUMENT=t.MARKS=t.INLINES=t.BLOCKS=void 0,Object.defineProperty(t,"BLOCKS",{enumerable:!0,get:function(){return f.BLOCKS}}),Object.defineProperty(t,"INLINES",{enumerable:!0,get:function(){return d.INLINES}}),Object.defineProperty(t,"MARKS",{enumerable:!0,get:function(){return E.MARKS}}),o(S,t),o(h,t),o(p,t),Object.defineProperty(t,"EMPTY_DOCUMENT",{enumerable:!0,get:function(){return O.EMPTY_DOCUMENT}});var a=i(L);t.helpers=a});u(_);var C=_.helpers;_.EMPTY_DOCUMENT;var v=_.MARKS,g=_.INLINES,y=_.BLOCKS,b=((n={})[y.PARAGRAPH]=function(e,t){return"<p>".concat(t(e.content),"</p>")},n[y.HEADING_1]=function(e,t){return"<h1>".concat(t(e.content),"</h1>")},n[y.HEADING_2]=function(e,t){return"<h2>".concat(t(e.content),"</h2>")},n[y.HEADING_3]=function(e,t){return"<h3>".concat(t(e.content),"</h3>")},n[y.HEADING_4]=function(e,t){return"<h4>".concat(t(e.content),"</h4>")},n[y.HEADING_5]=function(e,t){return"<h5>".concat(t(e.content),"</h5>")},n[y.HEADING_6]=function(e,t){return"<h6>".concat(t(e.content),"</h6>")},n[y.EMBEDDED_ENTRY]=function(e,t){return"<div>".concat(t(e.content),"</div>")},n[y.EMBEDDED_RESOURCE]=function(e,t){return"<div>".concat(t(e.content),"</div>")},n[y.UL_LIST]=function(e,t){return"<ul>".concat(t(e.content),"</ul>")},n[y.OL_LIST]=function(e,t){return"<ol>".concat(t(e.content),"</ol>")},n[y.LIST_ITEM]=function(e,t){return"<li>".concat(t(e.content),"</li>")},n[y.QUOTE]=function(e,t){return"<blockquote>".concat(t(e.content),"</blockquote>")},n[y.HR]=function(){return"<hr/>"},n[y.TABLE]=function(e,t){return"<table>".concat(t(e.content),"</table>")},n[y.TABLE_ROW]=function(e,t){return"<tr>".concat(t(e.content),"</tr>")},n[y.TABLE_HEADER_CELL]=function(e,t){return"<th>".concat(t(e.content),"</th>")},n[y.TABLE_CELL]=function(e,t){return"<td>".concat(t(e.content),"</td>")},n[g.ASSET_HYPERLINK]=function(e){return I(g.ASSET_HYPERLINK,e)},n[g.ENTRY_HYPERLINK]=function(e){return I(g.ENTRY_HYPERLINK,e)},n[g.RESOURCE_HYPERLINK]=function(e){return N(g.RESOURCE_HYPERLINK,e)},n[g.EMBEDDED_ENTRY]=function(e){return I(g.EMBEDDED_ENTRY,e)},n[g.EMBEDDED_RESOURCE]=function(e){return N(g.EMBEDDED_RESOURCE,e)},n[g.HYPERLINK]=function(e,t){var r="string"==typeof e.data.uri?e.data.uri:"";return"<a href=".concat('"'.concat(r.replace(/"/g,"&quot;"),'"'),">").concat(t(e.content),"</a>")},n),A=((o={})[v.BOLD]=function(e){return"<b>".concat(e,"</b>")},o[v.ITALIC]=function(e){return"<i>".concat(e,"</i>")},o[v.UNDERLINE]=function(e){return"<u>".concat(e,"</u>")},o[v.CODE]=function(e){return"<code>".concat(e,"</code>")},o[v.SUPERSCRIPT]=function(e){return"<sup>".concat(e,"</sup>")},o[v.SUBSCRIPT]=function(e){return"<sub>".concat(e,"</sub>")},o),I=function(e,t){return"<span>type: ".concat(c(e)," id: ").concat(c(t.data.target.sys.id),"</span>")},N=function(e,t){return"<span>type: ".concat(c(e)," urn: ").concat(c(t.data.target.sys.urn),"</span>")};t.S=function(e,t){return(void 0===t&&(t={}),e&&e.content)?function e(t,r){var n=r.renderNode,o=r.renderMark,i=r.preserveWhitespace;return t.map(function(t){return function(t,r){var n=r.renderNode,o=r.renderMark,i=r.preserveWhitespace;if(C.isText(t)){var a=c(t.value);return(i&&(a=a.replace(/\n/g,"<br/>").replace(/ {2,}/g,function(e){return"&nbsp;".repeat(e.length)})),t.marks.length>0)?t.marks.reduce(function(e,t){return o[t.type]?o[t.type](e):e},a):a}return t.nodeType&&n[t.nodeType]?n[t.nodeType](t,function(t){return e(t,{renderMark:o,renderNode:n,preserveWhitespace:i})}):""}(t,{renderNode:n,renderMark:o,preserveWhitespace:i})}).join("")}(e.content,{renderNode:i(i({},b),t.renderNode),renderMark:i(i({},A),t.renderMark),preserveWhitespace:t.preserveWhitespace}):""}},3237:function(e,t,r){"use strict";var n=r(7618);t.Z=n.Z},1642:function(e){!function(){"use strict";var t={114:function(e){function t(e){if("string"!=typeof e)throw TypeError("Path must be a string. Received "+JSON.stringify(e))}function r(e,t){for(var r,n="",o=0,i=-1,a=0,c=0;c<=e.length;++c){if(c<e.length)r=e.charCodeAt(c);else if(47===r)break;else r=47;if(47===r){if(i===c-1||1===a);else if(i!==c-1&&2===a){if(n.length<2||2!==o||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2)){if(n.length>2){var s=n.lastIndexOf("/");if(s!==n.length-1){-1===s?(n="",o=0):o=(n=n.slice(0,s)).length-1-n.lastIndexOf("/"),i=c,a=0;continue}}else if(2===n.length||1===n.length){n="",o=0,i=c,a=0;continue}}t&&(n.length>0?n+="/..":n="..",o=2)}else n.length>0?n+="/"+e.slice(i+1,c):n=e.slice(i+1,c),o=c-i-1;i=c,a=0}else 46===r&&-1!==a?++a:a=-1}return n}var n={resolve:function(){for(var e,n,o="",i=!1,a=arguments.length-1;a>=-1&&!i;a--)a>=0?n=arguments[a]:(void 0===e&&(e=""),n=e),t(n),0!==n.length&&(o=n+"/"+o,i=47===n.charCodeAt(0));return(o=r(o,!i),i)?o.length>0?"/"+o:"/":o.length>0?o:"."},normalize:function(e){if(t(e),0===e.length)return".";var n=47===e.charCodeAt(0),o=47===e.charCodeAt(e.length-1);return(0!==(e=r(e,!n)).length||n||(e="."),e.length>0&&o&&(e+="/"),n)?"/"+e:e},isAbsolute:function(e){return t(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0==arguments.length)return".";for(var e,r=0;r<arguments.length;++r){var o=arguments[r];t(o),o.length>0&&(void 0===e?e=o:e+="/"+o)}return void 0===e?".":n.normalize(e)},relative:function(e,r){if(t(e),t(r),e===r||(e=n.resolve(e))===(r=n.resolve(r)))return"";for(var o=1;o<e.length&&47===e.charCodeAt(o);++o);for(var i=e.length,a=i-o,c=1;c<r.length&&47===r.charCodeAt(c);++c);for(var s=r.length-c,u=a<s?a:s,l=-1,f=0;f<=u;++f){if(f===u){if(s>u){if(47===r.charCodeAt(c+f))return r.slice(c+f+1);if(0===f)return r.slice(c+f)}else a>u&&(47===e.charCodeAt(o+f)?l=f:0===f&&(l=0));break}var d=e.charCodeAt(o+f);if(d!==r.charCodeAt(c+f))break;47===d&&(l=f)}var E="";for(f=o+l+1;f<=i;++f)(f===i||47===e.charCodeAt(f))&&(0===E.length?E+="..":E+="/..");return E.length>0?E+r.slice(c+l):(c+=l,47===r.charCodeAt(c)&&++c,r.slice(c))},_makeLong:function(e){return e},dirname:function(e){if(t(e),0===e.length)return".";for(var r=e.charCodeAt(0),n=47===r,o=-1,i=!0,a=e.length-1;a>=1;--a)if(47===(r=e.charCodeAt(a))){if(!i){o=a;break}}else i=!1;return -1===o?n?"/":".":n&&1===o?"//":e.slice(0,o)},basename:function(e,r){if(void 0!==r&&"string"!=typeof r)throw TypeError('"ext" argument must be a string');t(e);var n,o=0,i=-1,a=!0;if(void 0!==r&&r.length>0&&r.length<=e.length){if(r.length===e.length&&r===e)return"";var c=r.length-1,s=-1;for(n=e.length-1;n>=0;--n){var u=e.charCodeAt(n);if(47===u){if(!a){o=n+1;break}}else -1===s&&(a=!1,s=n+1),c>=0&&(u===r.charCodeAt(c)?-1==--c&&(i=n):(c=-1,i=s))}return o===i?i=s:-1===i&&(i=e.length),e.slice(o,i)}for(n=e.length-1;n>=0;--n)if(47===e.charCodeAt(n)){if(!a){o=n+1;break}}else -1===i&&(a=!1,i=n+1);return -1===i?"":e.slice(o,i)},extname:function(e){t(e);for(var r=-1,n=0,o=-1,i=!0,a=0,c=e.length-1;c>=0;--c){var s=e.charCodeAt(c);if(47===s){if(!i){n=c+1;break}continue}-1===o&&(i=!1,o=c+1),46===s?-1===r?r=c:1!==a&&(a=1):-1!==r&&(a=-1)}return -1===r||-1===o||0===a||1===a&&r===o-1&&r===n+1?"":e.slice(r,o)},format:function(e){var t,r;if(null===e||"object"!=typeof e)throw TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return t=e.dir||e.root,r=e.base||(e.name||"")+(e.ext||""),t?t===e.root?t+r:t+"/"+r:r},parse:function(e){t(e);var r,n={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return n;var o=e.charCodeAt(0),i=47===o;i?(n.root="/",r=1):r=0;for(var a=-1,c=0,s=-1,u=!0,l=e.length-1,f=0;l>=r;--l){if(47===(o=e.charCodeAt(l))){if(!u){c=l+1;break}continue}-1===s&&(u=!1,s=l+1),46===o?-1===a?a=l:1!==f&&(f=1):-1!==a&&(f=-1)}return -1===a||-1===s||0===f||1===f&&a===s-1&&a===c+1?-1!==s&&(0===c&&i?n.base=n.name=e.slice(1,s):n.base=n.name=e.slice(c,s)):(0===c&&i?(n.name=e.slice(1,a),n.base=e.slice(1,s)):(n.name=e.slice(c,a),n.base=e.slice(c,s)),n.ext=e.slice(a,s)),c>0?n.dir=e.slice(0,c-1):i&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};n.posix=n,e.exports=n}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var i=r[e]={exports:{}},a=!0;try{t[e](i,i.exports,n),a=!1}finally{a&&delete r[e]}return i.exports}n.ab="//";var o=n(114);e.exports=o}()},4492:function(e,t,r){"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(2265),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=n.useState,a=n.useEffect,c=n.useLayoutEffect,s=n.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!o(e,r)}catch(e){return!0}}var l="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=i({inst:{value:r,getSnapshot:t}}),o=n[0].inst,l=n[1];return c(function(){o.value=r,o.getSnapshot=t,u(o)&&l({inst:o})},[e,r,t]),a(function(){return u(o)&&l({inst:o}),e(function(){u(o)&&l({inst:o})})},[e]),s(r),r};t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:l},5107:function(e,t,r){"use strict";/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(2265),o=r(554),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=o.useSyncExternalStore,c=n.useRef,s=n.useEffect,u=n.useMemo,l=n.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,n,o){var f=c(null);if(null===f.current){var d={hasValue:!1,value:null};f.current=d}else d=f.current;var E=a(e,(f=u(function(){function e(e){if(!s){if(s=!0,a=e,e=n(e),void 0!==o&&d.hasValue){var t=d.value;if(o(t,e))return c=t}return c=e}if(t=c,i(a,e))return t;var r=n(e);return void 0!==o&&o(t,r)?t:(a=e,c=r)}var a,c,s=!1,u=void 0===r?null:r;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]},[t,r,n,o]))[0],f[1]);return s(function(){d.hasValue=!0,d.value=E},[E]),l(E),E}},554:function(e,t,r){"use strict";e.exports=r(4492)},5006:function(e,t,r){"use strict";e.exports=r(5107)},907:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return g}});var n=r(7437),o=r(2655),i=r.n(o),a=r(6526),c=r.n(a),s=r(2126),u=r(2265),l=r(8726),f=r(7650),d=r(762),E=r(3237),S=r(6463),h=r(1987),p=r(994),O=r(2800),L=r(133),_=r(7247),C=(0,u.memo)(e=>{let{open:t,close:r,scriptId:o,onUpdate:i,refreshId:a}=e,[c,f]=(0,u.useState)(!1),d=async()=>{try{if(f(!0),!o)throw l.ZP.error("Script not found"),Error("Script not found");await s.Z.post("/api/series/".concat(o,"/").concat(a)),f(!1),l.ZP.success("Script updated"),null==i||i()}catch(e){l.ZP.error("Failed to delete episode"),f(!1)}};return(0,n.jsxs)(_.Z,{visible:t,onClose:r,children:[(0,n.jsx)(_.Z.Title,{className:"!w-full",children:"Are you sure you want to recreate this episode?"}),(0,n.jsx)(_.Z.Content,{className:"!w-full",children:"All episodes what was created after this episode will be permanently deleted."}),(0,n.jsx)(_.Z.Action,{loading:c,placeholder:void 0,passive:!0,onClick:async()=>{await d(),r()},children:"Recreate"}),(0,n.jsx)(_.Z.Action,{placeholder:void 0,passive:!0,onClick:async()=>{r()},children:"Cancel"})]})});let v=(0,r(9099).Ue)((e,t)=>({history:[],loading:!1,_history:[],refreshId:null,refreshLoading:!1}));function g(){let e=(0,S.useRouter)(),t=v(e=>e.history),r=(0,u.useCallback)(e=>v.setState(e),[]),o=v(e=>e.loading),a=v(e=>e._history),_=v(e=>e.refreshId),g=v(e=>e.refreshLoading),y=(0,S.useSearchParams)(),b=(0,u.useMemo)(()=>{var e;return null!==(e=null==y?void 0:y.get("seriesId"))&&void 0!==e?e:""},[y]);(0,u.useEffect)(()=>{(async()=>{if(!o){r(e=>({...e,loading:!0}));try{var t;let n=null!==(t=y.get("seriesId"))&&void 0!==t?t:"",o=localStorage.getItem("userId"),i=(await s.Z.get("/api/series/".concat(n,"?userId=").concat(o))).data,a=i.data.history;i.new&&(e.replace("/response?seriesId=".concat(i.data.id)),a=(await (0,O.k)({history:a,seriesId:i.data.id,message:{role:"system",content:"Create synopsis for whole series with specific details.",id:Math.random().toString()}})).series.history);let c=a,u=a.filter(e=>"user"!==e.role&&"system"!==e.role&&"You are a film scenario creation AI assistant."!==e.content);r(e=>({...e,history:u,_history:c,loading:!1}))}catch(e){r(e=>({...e,loading:!1})),console.error(e),l.ZP.error("Failed to fetch data")}}})()},[]);let A=(0,u.useCallback)(async()=>{r(e=>({...e,loading:!0}));try{console.log("create new episode",b);let e=await (0,O.k)({history:a,seriesId:b}),t=e.series.history.filter(e=>"user"!==e.role&&"system"!==e.role&&"You are a film scenario creation AI assistant."!==e.content);r(r=>({...r,history:t,_history:e.series.history,loading:!1})),l.ZP.success("New episode created")}catch(e){console.error(e),r(e=>({...e,loading:!1}))}},[a,b]),I=(0,u.useCallback)(async()=>{r(e=>({...e,refreshLoading:!1}));let e=localStorage.getItem("userId"),t=(await s.Z.get("/api/series/".concat(b,"?userId=").concat(e))).data.data.history,n=t.filter(e=>"user"!==e.role&&"system"!==e.role&&"You are a film scenario creation AI assistant."!==e.content);r(e=>({...e,history:n,_history:t,loading:!1,refreshId:null,refreshLoading:!1}))},[b]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("main",{className:"flex min-h-screen flex-col items-start flex-start mb-[2rem] gap-5",children:[(0,n.jsx)("header",{id:"header",className:"h-[90px] bg-[#000] text-lg pt-[3rem] w-full text-center text-white relative",children:(0,n.jsx)(f.Z,{h2:!0,className:"relative z-10 px-4",children:"Here you go..."})}),(0,n.jsxs)("div",{className:"flex flex-col gap-5 px-4 xl:max-w-[1200px] m-auto h-full",children:[t.map(async(e,t)=>{var o;let a=await (0,h.C)(e.content),s=(0,p.S)(a);return(0,n.jsxs)(d.Z,{className:"p-4 relative z-10 my-2",children:[(0,n.jsx)("h3",{className:"font-bold",children:0===t?"Synopsys":"Episode ".concat(t)}),(0,n.jsx)("p",{className:"text-lg ".concat(i().className," ").concat(c().episode),dangerouslySetInnerHTML:{__html:s}}),(0,n.jsx)(L.lgS,{className:"w-4 h-4 ".concat(g&&_===(null==e?void 0:e.id)?"animate-spin":""," absolute right-4 top-4 cursor-pointer"),onClick:()=>{r(t=>({...t,refreshId:null==e?void 0:e.id,refreshLoading:!0}))},title:0===t?"Refresh synopsys":"Refresh episode "+t})]},null!==(o=null==e?void 0:e.id)&&void 0!==o?o:t)}),(0,n.jsx)(E.Z,{loading:o,type:"secondary",onClick:A,className:"rounded-lg p-2 bg-indigo-600 text-zinc-100 active:scale-125 transition-all hover:bg-indigo-800",children:"Generate new episode"})]})]}),(0,n.jsx)(C,{close:()=>r(e=>({...e,refreshId:null})),refreshId:null!=_?_:"",open:null!==_,scriptId:b,onUpdate:I})]})}},2800:function(e,t,r){"use strict";r.d(t,{g:function(){return i},k:function(){return o}});var n=r(2126);let o=async e=>{let{history:t,seriesId:r,message:o}=e,i=[...t,null!=o?o:{role:"user",content:"Create new episode"}];return(await n.Z.post("/api/series/".concat(r),{history:i})).data},i=async e=>{let{userId:t}=e;try{return(await n.Z.get("/api/series?userId="+t)).data.data}catch(e){return console.error(e),[]}}},6526:function(e){e.exports={episode:"page_episode__IabRJ"}},2655:function(e){e.exports={style:{fontFamily:"'__Courier_Prime_ebc7f1', '__Courier_Prime_Fallback_ebc7f1'",fontStyle:"normal"},className:"__className_ebc7f1"}},1810:function(e,t,r){"use strict";r.d(t,{w_:function(){return l}});var n=r(2265),o={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},i=n.createContext&&n.createContext(o),a=["attr","size","title"];function c(){return(c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function l(e){return t=>n.createElement(f,c({attr:u({},e.attr)},t),function e(t){return t&&t.map((t,r)=>n.createElement(t.tag,u({key:r},t.attr),e(t.child)))}(e.child))}function f(e){var t=t=>{var r,{attr:o,size:i,title:s}=e,l=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,a),f=i||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),n.createElement("svg",c({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,o,l,{className:r,style:u(u({color:e.color||t.color},t.style),e.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),s&&n.createElement("title",null,s),e.children)};return void 0!==i?n.createElement(i.Consumer,null,e=>t(e)):t(o)}},9099:function(e,t,r){"use strict";r.d(t,{Ue:function(){return d}});let n=e=>{let t;let r=new Set,n=(e,n)=>{let o="function"==typeof e?e(t):e;if(!Object.is(o,t)){let e=t;t=(null!=n?n:"object"!=typeof o||null===o)?o:Object.assign({},t,o),r.forEach(r=>r(t,e))}},o=()=>t,i={setState:n,getState:o,getInitialState:()=>a,subscribe:e=>(r.add(e),()=>r.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},a=t=e(n,o,i);return i},o=e=>e?n(e):n;var i=r(2265),a=r(5006);let{useDebugValue:c}=i,{useSyncExternalStoreWithSelector:s}=a,u=!1,l=e=>e,f=e=>{"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");let t="function"==typeof e?o(e):e,r=(e,r)=>(function(e,t=l,r){r&&!u&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),u=!0);let n=s(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return c(n),n})(t,e,r);return Object.assign(r,t),r},d=e=>e?f(e):f}},function(e){e.O(0,[318,422,643,806,826,726,126,247,276,971,23,744],function(){return e(e.s=8340)}),_N_E=e.O()}]);