(()=>{var e={};e.id=203,e.ids=[203],e.modules={1185:e=>{"use strict";e.exports=require("mongoose")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},7529:()=>{},6901:(e,t,r)=>{"use strict";r.r(t),r.d(t,{originalPathname:()=>f,patchFetch:()=>q,requestAsyncStorage:()=>x,routeModule:()=>g,serverHooks:()=>h,staticGenerationAsyncStorage:()=>S});var i={};r.r(i),r.d(i,{GET:()=>l,POST:()=>m});var s=r(9303),n=r(8716),a=r(670),o=r(5493),u=r(2336),p=r(667),c=r(7070);let d="xwxoyk";async function m(e){try{await (0,o.Z)();let t=await e.json();if(await p.Z.findOne({userId:d})){let e=await p.Z.findOneAndUpdate({userId:d},t,{new:!0});return c.NextResponse.json({filmScript:e,message:"Your FilmScript has been updated"},{status:u.WE.Ok})}let r=await p.Z.create(t);return c.NextResponse.json({filmScript:r,message:"Your FilmScript has been created"},{status:u.WE.Created})}catch(e){return c.NextResponse.json({message:e},{status:u.WE.BadRequest})}}async function l(e){if(!d)return c.NextResponse.json({message:"userId is required"},{status:u.WE.BadRequest});try{await (0,o.Z)();let e=await p.Z.find({userId:d});return c.NextResponse.json({data:e})}catch(e){return c.NextResponse.json({error:e})}}let g=new s.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/filmScript/route",pathname:"/api/filmScript",filename:"route",bundlePath:"app/api/filmScript/route"},resolvedPagePath:"/Users/pashayakubovsky/Desktop/skripta/src/app/api/filmScript/route.ts",nextConfigOutput:"",userland:i}),{requestAsyncStorage:x,staticGenerationAsyncStorage:S,serverHooks:h}=g,f="/api/filmScript/route";function q(){return(0,a.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:S})}},667:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(1185);let s=new i.Schema({additionalElements:String,budget:String,desiredPrimaryFilmingLocation:String,desiredPrimaryFilmingLocations:String,emotionalEvents:[String],episodeLength:Number,episodes:Number,genre:String,language:String,mainCharacters:[String],mainCharactersLength:Number,mainCharacterEthnicity:String,primaryStoryLocation:String,storyReference:String,title:String,userId:{type:String,required:!0,unique:!0}},{timestamps:!0,toJSON:{versionKey:!1,virtuals:!0,transform:(e,t)=>{delete t._id}}}),n=i.models.FilmScript||(0,i.model)("FilmScript",s)},5493:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r(1185),s=r.n(i);let n=process.env.MONGO_URI,a={},o=async function(){if(!n)throw Error("Please define the MONGO_URI environment variable inside .env.local");if(a.connection)return a.connection;a.promise||(a.promise=s().connect(n,{bufferCommands:!1}));try{a.connection=await a.promise}catch(e){throw a.promise=void 0,e}return a.connection}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),i=t.X(0,[948,969],()=>r(6901));module.exports=i})();